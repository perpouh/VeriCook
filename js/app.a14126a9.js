(function(){"use strict";var e={5856:function(e,t,r){var n=r(5130),s=r(6768),a=r(4232);const o={id:"app"},i={key:0},l={class:"result-header"},u={class:"meta"},c={class:"sitename"},h={class:"domain"},g=["href"],d={class:"description"},p=["src","alt"],f={key:1,class:"pagination"},k=["disabled"],v=["disabled"];function m(e,t,r,m,b,y){return(0,s.uX)(),(0,s.CE)("div",o,[t[4]||(t[4]=(0,s.Lk)("header",null,[(0,s.Lk)("h1",null,[(0,s.Lk)("img",{src:"fe1b7179-953a-4beb-8959-d6e897d3d619.png",alt:"VeriCook",class:"logo"})]),(0,s.Lk)("div",{class:"powered-by-google"},[(0,s.Lk)("img",{src:"https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png",alt:"Google logo",height:"20"}),(0,s.Lk)("span",null,"Powered by Google")])],-1)),(0,s.Lk)("div",null,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>b.query=e),placeholder:"Enter search query"},null,512),[[n.Jo,b.query]]),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>y.search&&y.search(...e))},"Search")]),b.results.length?((0,s.uX)(),(0,s.CE)("h2",i,"「"+(0,a.v_)(b.query)+"」の検索結果",1)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(b.results,((e,t)=>((0,s.uX)(),(0,s.CE)("article",{class:"result",key:t},[(0,s.Lk)("div",l,[(0,s.Lk)("div",u,[(0,s.Lk)("span",c,(0,a.v_)(e.site_name),1),(0,s.Lk)("small",h,(0,a.v_)(e.displayLink),1)]),(0,s.Lk)("h3",null,[(0,s.Lk)("a",{href:e.link,target:"_blank"},(0,a.v_)(e.title),9,g)]),(0,s.Lk)("p",d,(0,a.v_)(e.description),1)]),(0,s.Lk)("img",{src:e.thmbnail,alt:e.title,class:"thmbnail"},null,8,p)])))),128)),b.results.length>0?((0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("button",{disabled:1===b.currentPage,onClick:t[2]||(t[2]=e=>y.changePage(b.currentPage))},"Previous",8,k),(0,s.Lk)("span",null,"Page "+(0,a.v_)(b.currentPage)+" of "+(0,a.v_)(y.totalPages),1),(0,s.Lk)("button",{disabled:b.currentPage===y.totalPages,onClick:t[3]||(t[3]=e=>y.changePage(b.currentPage+1))},"Next",8,v)])):(0,s.Q3)("",!0)])}r(8111),r(1701);var b={data(){return{query:"",results:[],currentPage:1,resultsPerPage:10,totalResults:0,nextIndex:0}},computed:{totalPages(){return Math.ceil(this.totalResults/this.resultsPerPage)}},methods:{async search(){if(!this.query)return void alert("Please enter a search query.");const e="",t="";if(!e||!t)return void alert("API key or CX is missing. Please check your environment variables.");const r=`https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(this.query)}&key=${e}&cx=${t}&start=${this.nextIndex}`;try{const e=await fetch(r),t=await e.json();t.items?(console.log(t),this.results=t.items.map((e=>({title:e.title,link:e.link,site_name:e.pagemap?.metatags?.[0]?.["og:site_name"],description:e.snippet,displayLink:e.displayLink,thmbnail:e.pagemap?.cse_thumbnail?.[0]?.src||"https://placehold.jp/150x150.png"}))),this.totalResults=t.queries.nextPage[0].totalResults,this.nextIndex=t.queries.nextPage[0].startIndex,this.currentPage=parseInt(t.queries.request[0].startIndex/10+1)):(this.results=[],alert("No results found."))}catch(n){console.error("Error fetching search results:",n),alert("An error occurred while fetching search results.")}},changePage(e){this.currentPage=e,this.search()}}},y=r(1241);const P=(0,y.A)(b,[["render",m]]);var L=P;(0,n.Ef)(L).mount("#app")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,s,a){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],s=e[c][1],a=e[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(i=!1,a<o&&(o=a));if(i){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,s,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,a,o=n[0],i=n[1],l=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(l)var c=l(r)}for(t&&t(n);u<o.length;u++)a=o[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=self["webpackChunkvericook"]=self["webpackChunkvericook"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(5856)}));n=r.O(n)})();
//# sourceMappingURL=app.a14126a9.js.map